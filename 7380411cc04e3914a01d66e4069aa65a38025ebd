{
  "comments": [
    {
      "key": {
        "uuid": "e7ed7f10_f7b9e28b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/reviewersbyblame/ReviewersByBlame.java",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-10-19T19:55:19Z",
      "side": 1,
      "message": "Two problems with this code:\n\n1. account.get()\n\n^^^ Optional can be empty, and can throw NoSuchElementException: [1].\n\n2. account.get().getAccount() is called three times in that code snippet.\n\nMay be do something like this:\n\n   Optional\u003cAccount\u003e accountState \u003d accountCache.get(id).map(AccountState::getAccount);\n   if (accountState.isPresent()) {\n     Account account \u003d accountState.get();\n     if (account.isActive() \u0026\u0026 !change.getOwner().equals(account.getId())) {\n       Integer count \u003d reviewers.get(account);\n       reviewers.put(account, count \u003d\u003d null ? 1 : count.intValue() + 1);\n     }\n   }\n\n* [1] https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--",
      "revId": "7380411cc04e3914a01d66e4069aa65a38025ebd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a561bbd6_3f774b74",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/reviewersbyblame/ReviewersByBlame.java",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2018-10-19T20:01:13Z",
      "side": 1,
      "message": "Thanks, done!",
      "parentUuid": "e7ed7f10_f7b9e28b",
      "revId": "7380411cc04e3914a01d66e4069aa65a38025ebd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}